<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using shinytest2 with continuous integration • shinytest2</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using shinytest2 with continuous integration">
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">shinytest2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/shinytest2.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/in-depth.html">Testing in depth</a></li>
    <li><a class="dropdown-item" href="../articles/robust.html">Robust testing</a></li>
    <li><a class="dropdown-item" href="../articles/use-application-audit.html">Auditing Shiny apps</a></li>
    <li><a class="dropdown-item" href="../articles/use-ci.html">Using shinytest2 with continuous integration</a></li>
    <li><a class="dropdown-item" href="../articles/use-package.html">Using shinytest2 with R packages</a></li>
    <li><a class="dropdown-item" href="../articles/using-monkey-testing.html">Monkey testing</a></li>
    <li><a class="dropdown-item" href="../articles/z-migration.html">Migrating from shinytest</a></li>
    <li><a class="dropdown-item" href="../articles/zzz-faq.html">Frequently Asked Questions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstudio/shinytest2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Using shinytest2 with continuous integration</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/shinytest2/blob/main/vignettes/use-ci.Rmd" class="external-link"><code>vignettes/use-ci.Rmd</code></a></small>
      <div class="d-none name"><code>use-ci.Rmd</code></div>
    </div>

    
    
<p><a href="https://rstudio.github.io/shinytest2/">shinytest2</a> can be used not only when developing
applications locally – it can also be used with continuous integration
(CI) platforms, such as <a href="https://docs.github.com/en/actions" class="external-link">GitHub Actions</a>.</p>
<p>The rest of this document explains how to use
<a href="https://rstudio.github.io/shinytest2/">shinytest2</a> with GitHub in two use cases: with
applications that stand alone (are not part of an R package), and with
an application that are part of an R package.</p>
<div class="section level3">
<h3 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h3>
<p>The overall procedure for enabling tests on a CI platform is
this:</p>
<ul>
<li>First create tests locally (on your development machine) and save
the expected results.</li>
<li>Commit the expected results into the project’s git repository and
push to GitHub.</li>
<li>Create a GitHub Actions workflow file to run tests on GitHub Actions
(GHA).</li>
</ul>
<p>Once you have set up continuous integration, the typical development
cycle is this:</p>
<ul>
<li>Modify your project, commit, and push the changes.</li>
<li>The CI platform will automatically do an <em>action</em>, in which
it downloads the code and runs tests. If the tests fail, it will send
you an email alert.</li>
</ul>
<p>As you develop your application, it may also be appropriate to add,
remove, or modify tests, or re-run tests and save new expected
results.</p>
</div>
<div class="section level3">
<h3 id="a-repository-with-a-single-application">A repository with a single application<a class="anchor" aria-label="anchor" href="#a-repository-with-a-single-application"></a>
</h3>
<p>For Shiny applications that aren’t part of an R package, there are
two common ways that the repository will be set up:</p>
<ol style="list-style-type: decimal">
<li>The repository contains one application, and the application files
(like <code>app.R</code> and <code>global.R</code>) are contained at the
top level of the repository.</li>
<li>The repository contains more than one application files, and each
application is contained in a subdirectory.</li>
</ol>
<p>This section explains how to set up GHA to test a repository with a
single application.
<!-- See https://github.com/rstudio/shinytest-ci-example for an example. --></p>
<p>The directory structure of such a project will look something like
this:</p>
<pre><code>/
├── .github
│   └── workflows
│       └── check-app.yaml
├── .Rprofile
├── README.md
├── app.R
├── renv/activate.R
├── renv.lock
└── tests
    ├── testthat.R
    └── testthat
        ├── _snaps
        │   └── shinytest2
        │       ├── 001.json
        │       ├── 002.png
        │       ├── 003.json
        │       └── 004.png
        └── test-shinytest2.R</code></pre>
<p>The files that you will need to add are described below.</p>
<div class="section level4">
<h4 id="check-app-yaml">
<code>check-app.yaml</code><a class="anchor" aria-label="anchor" href="#check-app-yaml"></a>
</h4>
<p>This file contains information for GitHub Actions to build and test
your application. You can easily set up this action in your repo with
help from the <a href="https://usethis.r-lib.org" class="external-link">usethis
package</a>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_github_action.html" class="external-link">use_github_action</a></span><span class="op">(</span></span>
<span>  url <span class="op">=</span> <span class="st">"https://github.com/rstudio/shinytest2/raw/main/actions/test-app/example-test-app-renv.yaml"</span>,</span>
<span>  save_as <span class="op">=</span> <span class="st">"check-app.yaml"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>It should look similar to this:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Workflow derived from https://github.com/rstudio/shinytest2/tree/main/actions/test-app/example-test-app-description.yaml</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co"># Need help debugging build failures? Start at https://github.com/r-lib/actions#where-to-find-help</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">on</span><span class="kw">:</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="at">  </span><span class="fu">push</span><span class="kw">:</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="at">    </span><span class="fu">branches</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">main</span><span class="kw">,</span><span class="at"> master</span><span class="kw">]</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="at">  </span><span class="fu">pull_request</span><span class="kw">:</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="at">    </span><span class="fu">branches</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">main</span><span class="kw">,</span><span class="at"> master</span><span class="kw">]</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> Test app w/ {renv}</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="fu">jobs</span><span class="kw">:</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="at">  </span><span class="fu">test-app</span><span class="kw">:</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="at">    </span><span class="fu">runs-on</span><span class="kw">:</span><span class="at"> ${{ matrix.config.os }}</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> ${{ matrix.config.os }} (${{ matrix.config.r }})</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="at">    </span><span class="fu">strategy</span><span class="kw">:</span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="at">      </span><span class="fu">fail-fast</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="at">      </span><span class="fu">matrix</span><span class="kw">:</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="at">        </span><span class="fu">config</span><span class="kw">:</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="kw">{</span><span class="fu">os</span><span class="kw">:</span><span class="at"> ubuntu-latest</span><span class="kw">,</span><span class="at"> </span><span class="fu">r</span><span class="kw">:</span><span class="at"> release</span><span class="kw">}</span></span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a><span class="at">    </span><span class="fu">env</span><span class="kw">:</span></span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a><span class="at">      </span><span class="fu">GITHUB_PAT</span><span class="kw">:</span><span class="at"> ${{ secrets.GITHUB_TOKEN }}</span></span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a><span class="at">      </span><span class="fu">R_KEEP_PKG_SOURCE</span><span class="kw">:</span><span class="at"> </span><span class="ch">yes</span></span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a></span>
<span id="cb3-27"><a href="#cb3-27" tabindex="-1"></a><span class="at">    </span><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb3-28"><a href="#cb3-28" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/checkout@v2</span></span>
<span id="cb3-29"><a href="#cb3-29" tabindex="-1"></a></span>
<span id="cb3-30"><a href="#cb3-30" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> r-lib/actions/setup-pandoc@v2</span></span>
<span id="cb3-31"><a href="#cb3-31" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> r-lib/actions/setup-r@v2</span></span>
<span id="cb3-33"><a href="#cb3-33" tabindex="-1"></a><span class="at">        </span><span class="fu">with</span><span class="kw">:</span></span>
<span id="cb3-34"><a href="#cb3-34" tabindex="-1"></a><span class="at">          </span><span class="fu">r-version</span><span class="kw">:</span><span class="at"> ${{ matrix.config.r }}</span></span>
<span id="cb3-35"><a href="#cb3-35" tabindex="-1"></a><span class="at">          </span><span class="fu">use-public-rspm</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb3-36"><a href="#cb3-36" tabindex="-1"></a></span>
<span id="cb3-37"><a href="#cb3-37" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> r-lib/actions/setup-renv@v2</span></span>
<span id="cb3-38"><a href="#cb3-38" tabindex="-1"></a></span>
<span id="cb3-39"><a href="#cb3-39" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> rstudio/shinytest2/actions/test-app@actions/v1</span></span>
<span id="cb3-40"><a href="#cb3-40" tabindex="-1"></a><span class="at">        </span><span class="fu">with</span><span class="kw">:</span></span>
<span id="cb3-41"><a href="#cb3-41" tabindex="-1"></a><span class="at">          </span><span class="fu">app-dir</span><span class="kw">:</span><span class="at"> </span><span class="st">"."</span></span></code></pre></div>
<p>You should change the <code>os</code> and <code>r</code> version to
whatever operating system and R version is being used on the platform
that your application will be deployed to.</p>
</div>
<div class="section level4">
<h4 id="renv-lock-renvactivate-r--rprofile">
<code>renv.lock</code>, <code>renv/activate.R</code>,
<code>.Rprofile</code><a class="anchor" aria-label="anchor" href="#renv-lock-renvactivate-r--rprofile"></a>
</h4>
<p><a href="https://rstudio.github.io/renv/" class="external-link">renv</a> project-local dependency management system for
projects. This is useful for Shiny applications where using specific
package versions for all of your Shiny app dependencies.
<a href="https://rstudio.github.io/renv/" class="external-link">renv</a> uses the same mechanism that is used by shinyapps.io
and RStudio Connect.</p>
<p><a href="https://rstudio.github.io/renv/" class="external-link">renv</a> auto-generates these three files using
is<code>renv::init()</code> and <code>renv::snapshot()</code>.</p>
<table class="table">
<colgroup>
<col width="18%">
<col width="81%">
</colgroup>
<thead><tr class="header">
<th align="left">File</th>
<th align="left">Usage</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code>.Rprofile</code></td>
<td align="left">Used to activate <a href="https://rstudio.github.io/renv/" class="external-link">renv</a> for new R sessions
launched in the project.</td>
</tr>
<tr class="even">
<td align="left"><code>renv.lock</code></td>
<td align="left">The lockfile, describing the state of your project’s
library at some point in time.</td>
</tr>
<tr class="odd">
<td align="left"><code>renv/activate.R</code></td>
<td align="left">The activation script run by the project
<code>.Rprofile</code>.</td>
</tr>
</tbody>
</table>
<p>To create <code>.Rprofile</code> and <code>renv/activate.R</code>,
call <code>renv::init()</code> within your App project. To create /
update <code>renv.lock</code>, call <code>renv::snapshot()</code>.</p>
<p><strong>Whenever you update packages on your development machine, you
should run <code>renv::snapshot()</code> command again to make sure the
packages used on GitHub stay in sync.</strong></p>
<p>To learn more about <a href="https://rstudio.github.io/renv/" class="external-link">renv</a>, please see their <a href="https://rstudio.github.io/renv/articles/renv.html" class="external-link">Introduction to
renv</a> and <a href="https://rstudio.github.io/renv/articles/collaborating.html" class="external-link">Collaborating
with renv</a> articles.</p>
<p>An alternative to using <a href="https://rstudio.github.io/renv/" class="external-link">renv</a> is to create a
<code>DESCRIPTION</code> file. This will not lock package versions;
instead, it will use the latest version of each package from CRAN.</p>
</div>
<div class="section level4">
<h4 id="running-the-first-build">Running the first build<a class="anchor" aria-label="anchor" href="#running-the-first-build"></a>
</h4>
<p>Once you’ve added these files, commit them and push to GitHub. This
will trigger a build on GitHub Actions (GHA).</p>
<p>The first successful run of your workflow on GHA will generally take
much longer than subsequent runs, because it needs to install all the R
packages the first time. After a successful run, the packages are
cached, so the builds should be much faster.</p>
</div>
</div>
<div class="section level3">
<h3 id="a-repository-with-multiple-applications">A repository with multiple applications<a class="anchor" aria-label="anchor" href="#a-repository-with-multiple-applications"></a>
</h3>
<p>Another way to run your tests is using a repository with multiple
applications, each in its own subdirectory.
<!-- See https://github.com/rstudio/shinytest-ci-example-multi for an example. --></p>
<p>The directory structure would look something like this:</p>
<pre><code>/
├── .github
│   └── workflows
│       └── check-app.yaml
├── .Rprofile
├── README.md
├── renv/activate.R
├── renv.lock
├── 01_hello
│   ├── app.R
│   └── tests
│       ├── testthat.R
│       └── testthat
│           ├── _snaps
│           │   └── shinytest2
│           │       ├── 001.json
│           │       ├── 002.png
│           │       ├── 003.json
│           │       └── 004.png
│           └── test-shinytest2.R
└── 06_tabsets
    ├── app.R
    └── tests
        ├── testthat.R
        └── testthat
            ├── _snaps
            │   └── shinytest2
            │       ├── 001.json
            │       ├── 002.png
            │       ├── 003.json
            │       ├── 004.png
            │       ├── 005.json
            │       └── 006.png
            └── test-shinytest2.R</code></pre>
<p>For a repository with this structure, the configuration is largely
the same as a repository with a single app, as described above. The only
difference is in the <code>check-app.yaml</code> file.</p>
<div class="section level4">
<h4 id="check-app-yaml-1">
<code>check-app.yaml</code><a class="anchor" aria-label="anchor" href="#check-app-yaml-1"></a>
</h4>
<p>The <code>check-app.yaml</code> have all App dir locations supplied
to <code>app-dir</code> using the multiline yaml string syntax.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> rstudio/shinytest2/actions/test-app@actions/v1</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="at">        </span><span class="fu">with</span><span class="kw">:</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="fu">          app-dir</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>            01_hello</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>            06_tabsets</span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="testing-applications-in-a-package">Testing applications in a package<a class="anchor" aria-label="anchor" href="#testing-applications-in-a-package"></a>
</h3>
<p>See the <a href="./use-package.html">Using shinytest2 with R
packages</a> article.</p>
</div>
<div class="section level3">
<h3 id="frequently-asked-questions">Frequently asked questions<a class="anchor" aria-label="anchor" href="#frequently-asked-questions"></a>
</h3>
<div class="section level4">
<h4 id="how-do-i-add-a-status-badge-to-my-project">How do I add a status badge to my project?<a class="anchor" aria-label="anchor" href="#how-do-i-add-a-status-badge-to-my-project"></a>
</h4>
<p>See GitHub’s docs on <a href="https://docs.github.com/en/actions/monitoring-and-troubleshooting-workflows/adding-a-workflow-status-badge" class="external-link">adding
a badge</a>.</p>
<p>If your workflow file is named <code>check-app.yaml</code> in the
<code>schloerke/example-app</code> repo, you can add a status badge to
your GitHub to your README.md with the following line:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="al">![check-app](https://github.com/schloerke/example-app/actions/workflows/check-app.yml/badge.svg)</span></span></code></pre></div>
<p>In your <code>README.md</code> file, you can add a build status
badge, like the one below, so that you can see the status of your code
at a glance:</p>
</div>
<div class="section level4">
<h4 id="how-do-i-use-a-description-file-instead-of-renv">How do I use a <code>DESCRIPTION</code> file instead of
<code>{renv}</code>?<a class="anchor" aria-label="anchor" href="#how-do-i-use-a-description-file-instead-of-renv"></a>
</h4>
<p>Instead of using <a href="https://rstudio.github.io/renv/" class="external-link">renv</a>, you can use a
<code>DESCRIPTION</code> file can be used to tell GHA which packages are
needed to test the application. Instead of locking each package to a
specific version like <a href="https://rstudio.github.io/renv/" class="external-link">renv</a>, this will result in the
latest version of each package being downloaded from CRAN. This may be
appropriate if you want to make sure your application works with the
latest version of each package, instead of a frozen set of packages.</p>
<p>To use a <code>DESCRIPTION</code> file, you need to modify your
<code>check-app.yaml</code> file to use <code>r-lib/actions</code>
default package installation system instead of <a href="https://rstudio.github.io/renv/" class="external-link">renv</a>.
Replace this line from the template provided above:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode yml"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> r-lib/actions/setup-renv@v2</span></span></code></pre></div>
<p>with</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> r-lib/actions/setup-r-dependencies@v2</span></span></code></pre></div>
<p>You will not want generate a <code>renv.lock</code>,
<code>.Rprofile</code>, or other <a href="https://rstudio.github.io/renv/" class="external-link">renv</a> files, so do not
run the <a href="https://rstudio.github.io/renv/" class="external-link">renv</a> commands listed above.</p>
<p>Next, create a <code>DESCRIPTION</code> file that looks something
like this:</p>
<pre><code>Imports:
  shiny,
  shinytest2</code></pre>
<p>The <code>Imports</code> field must list all R packages that your
application directly uses.</p>
<p>Normally the latest versions of the listed packages will be installed
from CRAN. However, if you need to install development versions of
packages from GitHub, that can be done by adding a <code>Remotes</code>
section. For example:</p>
<pre><code>Remotes:
  rstudio/shiny,
  rstudio/shinytest2@dev</code></pre>
<p>This tells GitHub to install the <a href="https://shiny.posit.co/" class="external-link">shiny</a> package from
the <code>main</code> branch of <a href="https://github.com/rstudio/shiny" class="external-link uri">https://github.com/rstudio/shiny</a>, the
<a href="https://rstudio.github.io/shinytest2/">shinytest2</a> package from the <code>dev</code> branch of <a href="https://github.com/rstudio/shinytest2" class="external-link uri">https://github.com/rstudio/shinytest2</a>. In addition to
branch names like <code>dev</code>, you can use commit hashes or
tags.</p>
</div>
</div>
<div class="section level2">
<h2 id="example-workflows">Example workflows<a class="anchor" aria-label="anchor" href="#example-workflows"></a>
</h2>
<p>To view example workflows and more description about the
<code>test-app</code> GitHub Actions step, please see <a href="https://github.com/rstudio/shinytest2/tree/main/actions/test-app" class="external-link uri">https://github.com/rstudio/shinytest2/tree/main/actions/test-app</a>
for more information examples.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="http://schloerke.com" class="external-link">Barret Schloerke</a>, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer>
</body>
</html>
