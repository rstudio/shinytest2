<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • shinytest2</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://rstudio.github.io/shinytest2/logo.svg"></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">shinytest2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/shinytest2.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/in-depth.html">Testing in depth</a></li>
    <li><a class="dropdown-item" href="../articles/robust.html">Robust testing</a></li>
    <li><a class="dropdown-item" href="../articles/use-application-audit.html">Auditing Shiny apps</a></li>
    <li><a class="dropdown-item" href="../articles/use-ci.html">Using shinytest2 with continuous integration</a></li>
    <li><a class="dropdown-item" href="../articles/use-package.html">Using shinytest2 with R packages</a></li>
    <li><a class="dropdown-item" href="../articles/using-monkey-testing.html">Monkey testing</a></li>
    <li><a class="dropdown-item" href="../articles/z-migration.html">Migrating from shinytest</a></li>
    <li><a class="dropdown-item" href="../articles/zzz-faq.html">Frequently Asked Questions</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstudio/shinytest2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/rstudio/shinytest2/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="shinytest2-development-version">shinytest2 (development version)<a class="anchor" aria-label="anchor" href="#shinytest2-development-version"></a></h2>
<ul><li>Fixed internal bug where <a href="https://testthat.r-lib.org" class="external-link">testthat</a> v3.3.0 changed expectation behavior for screenshot snapshots within <code>App$expect_values()</code> (<a href="https://github.com/rstudio/shinytest2/issues/418" class="external-link">#418</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.1" id="shinytest2-041">shinytest2 0.4.1<a class="anchor" aria-label="anchor" href="#shinytest2-041"></a></h2><p class="text-muted">CRAN release: 2025-04-11</p>
<div class="section level3">
<h3 id="bug-0-4-1">Bug<a class="anchor" aria-label="anchor" href="#bug-0-4-1"></a></h3>
<ul><li>Fixed a bug where <code>AppDriver$expect_values(transform=)</code> default value caused error to be thrown. (<a href="https://github.com/rstudio/shinytest2/issues/413" class="external-link">#413</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="shinytest2-040">shinytest2 0.4.0<a class="anchor" aria-label="anchor" href="#shinytest2-040"></a></h2><p class="text-muted">CRAN release: 2025-04-10</p>
<div class="section level3">
<h3 id="breaking-changes-0-4-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-4-0"></a></h3>
<ul><li>
<a href="https://rstudio.github.io/shinytest2/">shinytest2</a> will skip and test on CRAN where an <code>AppDriver</code> is initialized. From a request from CRAN, using <a href="https://rstudio.github.io/chromote/articles/example-cran-tests.html" class="external-link"><code>{chromote}</code> during CRAN package testing</a> should be avoided as it can create failing tests over time due to application changes within the testing machine, not changes in package code. Since <code>AppDriver</code> directly depends on <a href="https://rstudio.github.io/chromote/" class="external-link">chromote</a> to test Shiny applications, creating an <code>AppDriver</code> should always skip the current test during CRAN package testing. This decision was made to achieve consistent testing behavior over time (rather than silently skipping tests that are expected to run due to a Chrome update). To escape this behavior, you can set the system environment variable <code>SHINYTEST2_APP_DRIVER_TEST_ON_CRAN=1</code>. Following <a href="https://rstudio.github.io/chromote/" class="external-link">chromote</a>’s recommendation, you should test your R package <a href="https://rstudio.github.io/chromote/articles/example-cran-tests.html" class="external-link">in a CI environment, ideally on a weekly or monthly schedule</a> to test your Shiny app with the latest R package versions. (<a href="https://github.com/rstudio/shinytest2/issues/407" class="external-link">#407</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="bug--improvements-0-4-0">Bug / Improvements<a class="anchor" aria-label="anchor" href="#bug--improvements-0-4-0"></a></h3>
<ul><li><p>Add support for <code>$click()</code>ing <a href="https://rstudio.github.io/bslib/" class="external-link">bslib</a>’s <code>input_task_button()</code> (<a href="https://github.com/rstudio/shinytest2/issues/389" class="external-link">#389</a>).</p></li>
<li><p>Improved the error message when an app takes too long to start up (<a href="https://github.com/LouisLeNezet" class="external-link">@LouisLeNezet</a>, <a href="https://github.com/rstudio/shinytest2/issues/394" class="external-link">#394</a>).</p></li>
<li><p>The <code>threshold</code> and <code>kernel_size</code> default values of the <code>AppDriver$expect_screenshot()</code> method are now configurable via two new global options: <code>shinytest2.compare_screenshot.threshold</code> and <code>shinytest2.compare_screenshot.kernel_size</code> (<a href="https://github.com/rstudio/shinytest2/issues/401" class="external-link">#401</a>)</p></li>
<li><p><a href="https://rstudio.github.io/shinytest2/">shinytest2</a> now imports <a href="https://cli.r-lib.org" class="external-link">cli</a> and no longer imports <a href="https://r-lib.github.io/crayon/" class="external-link">crayon</a> (<a href="https://github.com/olivroy" class="external-link">@olivroy</a>, <a href="https://github.com/rstudio/shinytest2/issues/399" class="external-link">#399</a>).</p></li>
<li><p>Added <a href="https://github.com/r-lib/testthat/pull/1530" class="external-link"><code>{testthat}</code>’s snapshot file <code>transform=</code> parameter support</a> to <code>AppDriver$expect_download()</code> and <code>AppDriver$expect_values()</code>. This allows for text transformations of the snapshot files before they are compared. (<a href="https://github.com/rstudio/shinytest2/issues/403" class="external-link">#403</a>)</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2" id="shinytest2-032">shinytest2 0.3.2<a class="anchor" aria-label="anchor" href="#shinytest2-032"></a></h2><p class="text-muted">CRAN release: 2024-04-28</p>
<div class="section level3">
<h3 id="bug--improvements-0-3-2">Bug / Improvements<a class="anchor" aria-label="anchor" href="#bug--improvements-0-3-2"></a></h3>
<ul><li><p><a href="https://rstudio.github.io/shinytest2/">shinytest2</a> now uses <a href="https://rlang.r-lib.org" class="external-link">rlang</a> and longer depends on <a href="https://ellipsis.r-lib.org" class="external-link">ellipsis</a> (<a href="https://github.com/olivroy" class="external-link">@olivroy</a>, <a href="https://github.com/rstudio/shinytest2/issues/382" class="external-link">#382</a>).</p></li>
<li><p><a href="https://rstudio.github.io/shinytest2/">shinytest2</a> now warns rather than erroring when a potentially non-existent global variable is found in the server function, such as when column names are passed to <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">dplyr::select()</a></code> (thanks <a href="https://github.com/matt-sd-watson" class="external-link">@matt-sd-watson</a> <a href="https://github.com/MichalLauer" class="external-link">@MichalLauer</a>, <a href="https://github.com/rstudio/shinytest2/issues/385" class="external-link">#385</a>).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1" id="shinytest2-031">shinytest2 0.3.1<a class="anchor" aria-label="anchor" href="#shinytest2-031"></a></h2><p class="text-muted">CRAN release: 2023-08-26</p>
<div class="section level3">
<h3 id="breaking-changes-0-3-1">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-3-1"></a></h3>
<ul><li>
<code>AppDriver$get_screenshot()</code>/<code>AppDriver$expect_screenshot()</code> now default an underlying <code>deviceScaleFactor</code> option to 0 instead of 1. This ensures that image sizes are more consistent across devices. To revert to prior behavior, provide <code>screenshot_args = list(scale = 1)</code> to <code>get_screenshot()</code>/<code>expect_screenshot()</code> (<a href="https://github.com/rstudio/shinytest2/issues/350" class="external-link">#350</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="bug--improvements-0-3-1">Bug / Improvements<a class="anchor" aria-label="anchor" href="#bug--improvements-0-3-1"></a></h3>
<ul><li>shinytest2 no longer checks if the computer running the tests is connected to the internet when determining if shinytest2 can connect to the server hosting the Shiny app being tested. (<a href="https://github.com/Riraro" class="external-link">@Riraro</a> <a href="https://github.com/rstudio/shinytest2/issues/364" class="external-link">#364</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="shinytest2-030">shinytest2 0.3.0<a class="anchor" aria-label="anchor" href="#shinytest2-030"></a></h2><p class="text-muted">CRAN release: 2023-08-15</p>
<div class="section level3">
<h3 id="breaking-changes-0-3-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-3-0"></a></h3>
<ul><li>
<code>AppDriver$get_screenshot(selector=)</code>, <code>AppDriver$expect_screenshot(selector=)</code>’s default <code>selector</code> value changed from the HTML DOM selector <code>"html"</code> to <code>"scrollable_area"</code>. <code>"scrollable_area"</code> is a custom <a href="https://rstudio.github.io/shinytest2/">shinytest2</a> selector that will take a screenshot of the entire scrollable area. While a breaking change, this new default value is more intuitive and robust to non-standard CSS height and width values that fail with <code>"html"</code>. (<a href="https://github.com/rstudio/shinytest2/issues/325" class="external-link">#325</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-3-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-3-0"></a></h3>
<ul><li><p><code>AppDriver$get_screenshot(selector=)</code>, <code>AppDriver$expect_screenshot(selector=)</code>, and their corresponding <code>selector</code> values inside <code>screenshot_args=</code>, gained two custom <a href="https://rstudio.github.io/shinytest2/">shinytest2</a> values: <code>"scrollable_area"</code> and <code>"viewport"</code>. <code>"scrollable_area"</code> is the new default value and it takes a screenshot of the entire scrollable area. This is more intuitive than the previous value of the HTML DOM selector <code>"html"</code> which may result in a surprising height and width. <code>"viewport"</code> will take a screenshot of the current browser viewport. This means it will take a screenshot of whatever <code>$view()</code> is currently looking at. (<a href="https://github.com/rstudio/shinytest2/issues/325" class="external-link">#325</a>)</p></li>
<li><p>GitHub Action <code>rstudio/shinytest2/actions/test-app</code> added support for multiple directories in <code>app-dir</code>. These can be supplied using multiline string yaml syntax. See <a href="https://rstudio.github.io/shinytest2/articles/use-ci.html#check-app-yaml-1%3E">use-ci vignette</a> for more details. (<a href="https://github.com/rstudio/shinytest2/issues/332" class="external-link">#332</a>)</p></li>
<li><p>GitHub Action <code>rstudio/shinytest2/actions/test-app</code> changed the default value of <code>upload-snapshots</code> from <code>false</code> to <code>true</code>. This is in preparation for automated snapshot handling. (<a href="https://github.com/rstudio/shinytest2/issues/332" class="external-link">#332</a>)</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug--improvements-0-3-0">Bug / Improvements<a class="anchor" aria-label="anchor" href="#bug--improvements-0-3-0"></a></h3>
<ul><li>Set the directory to the Shiny App directory before starting the background R process. This allows for local <code>.Rprofile</code> and <code>.Renviron</code> files to be found naturally. (<a href="https://github.com/rstudio/shinytest2/issues/275" class="external-link">#275</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="shinytest2-021">shinytest2 0.2.1<a class="anchor" aria-label="anchor" href="#shinytest2-021"></a></h2><p class="text-muted">CRAN release: 2023-02-21</p>
<ul><li><p>Fixed request from CRAN to correct C++11 problems in web checks (<a href="https://github.com/rstudio/shinytest2/issues/326" class="external-link">#326</a>)</p></li>
<li><p>Fixed bug where <code><a href="../reference/compare_screenshot_threshold.html">compare_screenshot_threshold()</a></code> did not safe guard against errors thrown by <code><a href="../reference/compare_screenshot_threshold.html">screenshot_max_difference()</a></code> (<a href="https://github.com/rstudio/shinytest2/issues/276" class="external-link">#276</a>)</p></li>
<li><p>Fixed bug where preview overflow did not have length of 1 (<a href="https://github.com/cpsievert" class="external-link">@cpsievert</a> <a href="https://github.com/rstudio/shinytest2/issues/291" class="external-link">#291</a>)</p></li>
<li><p>Better support for saving global variables for a Shiny server function (<a href="https://github.com/rstudio/shinytest2/issues/307" class="external-link">#307</a>)</p></li>
<li><p>Better error message when both app.R and server.R are found (<a href="https://github.com/rstudio/shinytest2/issues/284" class="external-link">#284</a>)</p></li>
<li><p>Force JS code to be a character for <a href="https://glue.tidyverse.org/" class="external-link">glue</a> support (<a href="https://github.com/rstudio/shinytest2/issues/288" class="external-link">#288</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="shinytest2-020">shinytest2 0.2.0<a class="anchor" aria-label="anchor" href="#shinytest2-020"></a></h2><p class="text-muted">CRAN release: 2022-09-26</p>
<div class="section level3">
<h3 id="breaking-changes-0-2-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-2-0"></a></h3>
<div class="section level4">
<h4 id="shiny-log-levels-0-2-0">Shiny log levels<a class="anchor" aria-label="anchor" href="#shiny-log-levels-0-2-0"></a></h4>
<ul><li>
<code>AppDriver$get_logs()</code> has changed the <code>level</code> values when <code>location</code> equals <code>"shiny"</code>. The levels of <code>"error"</code> and <code>"info"</code> have been renamed to <code>"stderr"</code> and <code>"stdout"</code>. (<a href="https://github.com/rstudio/shinytest2/issues/265" class="external-link">#265</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="download-snapshot-files-0-2-0">Download snapshot files<a class="anchor" aria-label="anchor" href="#download-snapshot-files-0-2-0"></a></h4>
<ul><li>All downloaded snapshots will contain a counter prefix (e.g. <code>003-</code> in <code>003-my_custom_name.txt</code>) to avoid having two files point to the same snapshot file location. Sharing the same snapshot file is dangerous as the last file written is stored as truth, overwriting any knowledge of the original file. (<a href="https://github.com/rstudio/shinytest2/issues/261" class="external-link">#261</a>)</li>
<li>If a <code>content-disposition</code> header is provided and <code>AppDriver$expect_download(name = NULL)</code> (default), the snapshot file will try to be saved using the <code>content-disposition</code> header value. When paired with <code>compare = NULL</code> (default), <a href="https://testthat.r-lib.org" class="external-link">testthat</a> will choose the proper <code>compare</code> method between <code><a href="https://testthat.r-lib.org/reference/expect_snapshot_file.html" class="external-link">compare_file_text()</a></code> and <code><a href="https://testthat.r-lib.org/reference/expect_snapshot_file.html" class="external-link">compare_file_binary()</a></code>. See <code><a href="https://testthat.r-lib.org/reference/expect_snapshot_file.html" class="external-link">?testthat::expect_snapshot_file</a></code> for more details. (<a href="https://github.com/rstudio/shinytest2/issues/261" class="external-link">#261</a>)</li>
<li>
<code>AppDriver$expect_download()</code> will now download snapshot files using a sanitized file name, e.g. <code>AppDriver$expect_download(name = "my/custom/name.txt")</code> will be stored in the file <code>tests/testthat/_snaps/003-my_custom_name.txt</code>. (<a href="https://github.com/rstudio/shinytest2/issues/261" class="external-link">#261</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="timeout-values-0-2-0">Timeout values<a class="anchor" aria-label="anchor" href="#timeout-values-0-2-0"></a></h4>
<p>The <strong>default</strong> timeout values for many <code>AppDriver</code> methods have been altered and are shown in the table below. (<a href="https://github.com/rstudio/shinytest2/issues/263" class="external-link">#263</a>)</p>
<table class="table"><thead><tr class="header"><th>Method</th>
<th align="right">Previous value (ms)</th>
<th align="right">New value (ms)</th>
</tr></thead><tbody><tr class="odd"><td><code>AppDriver$new(load_timeout=)</code></td>
<td align="right"><code>10 * 1000</code></td>
<td align="right"><code>15 * 1000</code></td>
</tr><tr class="even"><td><code>AppDriver$set_inputs(timeout_=)</code></td>
<td align="right"><code>3 * 1000</code></td>
<td align="right"><code>4 * 1000</code></td>
</tr><tr class="odd"><td><code>AppDriver$upload_file(timeout_=)</code></td>
<td align="right"><code>3 * 1000</code></td>
<td align="right"><code>4 * 1000</code></td>
</tr><tr class="even"><td><code>AppDriver$expect_js(timeout=)</code></td>
<td align="right"><code>15 * 1000</code></td>
<td align="right"><code>4 * 1000</code></td>
</tr><tr class="odd"><td><code>AppDriver$get_js(timeout=)</code></td>
<td align="right"><code>15 * 1000</code></td>
<td align="right"><code>4 * 1000</code></td>
</tr><tr class="even"><td><code>AppDriver$run_js(timeout=)</code></td>
<td align="right"><code>15 * 1000</code></td>
<td align="right"><code>4 * 1000</code></td>
</tr><tr class="odd"><td><code>AppDriver$wait_for_idle(timeout=)</code></td>
<td align="right"><code>30 * 1000</code></td>
<td align="right"><code>4 * 1000</code></td>
</tr><tr class="even"><td><code>AppDriver$wait_for_value(timeout=)</code></td>
<td align="right"><code>15 * 1000</code></td>
<td align="right"><code>4 * 1000</code></td>
</tr><tr class="odd"><td><code>AppDriver$wait_for_js(timeout=)</code></td>
<td align="right"><code>30 * 1000</code></td>
<td align="right"><code>4 * 1000</code></td>
</tr><tr class="even"><td><code>AppDriver$stop(signal_timeout=)</code></td>
<td align="right"><code>250</code></td>
<td align="right"><code>500</code></td>
</tr></tbody></table><p><code>AppDriver$new(load_timeout=)</code> is initialized using the first numeric value found: 1. Supplied directly: <code>AppDriver$new(load_timeout=)</code> 2. Locally defined option: <code>options(shinytest2.load_timeout=)</code> 3. System environment variable: <code>SHINYTEST2_LOAD_TIMEOUT</code> 4. <code>15 * 1000</code> (15s)</p>
<p><code>AppDriver$new(timeout=)</code> is initialized using the first numeric value found: 1. Supplied directly: <code>AppDriver$new(timeout=)</code> 2. Locally defined option: <code>options(shinytest2.timeout=)</code> 3. System environment variable: <code>SHINYTEST2_TIMEOUT</code> 4. <code>4 * 1000</code> (4s)</p>
<p><code>AppDriver$stop(signal_timeout=)</code> is initialized using the first numeric value found: 1. Supplied directly: <code>AppDriver$stop(signal_timeout=)</code> 2. Locally defined option: <code>options(shinytest2.signal_timeout=)</code> 3. System environment variable: <code>SHINYTEST2_SIGNAL_TIMEOUT</code> 4. If the system environment variable <code>R_COVR=true</code>: <code>20 * 1000</code> (20s) 5. <code>500</code> (0.5s)</p>
<p>All remaining <code>AppDriver</code> methods will default their <code>timeout</code> and <code>timeout_</code> parameters to the initialized <code>AppDriver$new(timeout=)</code> value. For example, if <code>app &lt;- AppDriver$new(timeout = 500)</code> then <code>app$get_js(timeout=)</code> will default to <code>500</code> milliseconds.</p>
</div>
</div>
<div class="section level3">
<h3 id="new-features-0-2-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-2-0"></a></h3>
<ul><li><p><code><a href="../reference/compare_screenshot_threshold.html">compare_screenshot_threshold()</a></code> is a new method to compare screenshots and allow small differences between two screenshots. This method checks every subset matrix of the pixel differences between the two images. If any total difference is larger than the <code>threshold</code> value, the two images are considered to be different. The subset matrix size can be increased by setting <code>kernel_size</code>. (<a href="https://github.com/rstudio/shinytest2/issues/231" class="external-link">#231</a>)</p></li>
<li><p>Support for supplying your own compare method to <code>AppDriver$expect_screenshot(compare=)</code> has been added. By default, <code>AppDriver$expect_screenshot(compare=)</code> is set to <code>compare_screenshot_threshold(threshold = NULL)</code> which is equivalent to <code><a href="https://testthat.r-lib.org/reference/expect_snapshot_file.html" class="external-link">testthat::compare_file_binary()</a></code>. No default screenshot expectation behavior has changed. (<a href="https://github.com/rstudio/shinytest2/issues/231" class="external-link">#231</a>)</p></li>
<li><p><code><a href="../reference/test_app.html">test_app()</a></code> now inherits the existing test reporter when testing multiple apps within a package test file. This allows for a seamless, single reporter output instead of nested reporters being displayed. (<a href="https://github.com/rstudio/shinytest2/issues/192" class="external-link">#192</a>)</p></li>
<li><p>The recording browser window is now closed when either the “Save test and exit” or “Exit” buttons are clicked. (<a href="https://github.com/daattali" class="external-link">@daattali</a>, <a href="https://github.com/rstudio/shinytest2/issues/202" class="external-link">#202</a>)</p></li>
<li><p>When testing and <a href="https://rstudio.github.io/chromote/" class="external-link">chromote</a> can not be started, the test will be skipped. When testing on windows in CI, <a href="https://rstudio.github.io/chromote/" class="external-link">chromote</a> will get an extra attempt to be started (<a href="https://github.com/rstudio/shinytest2/issues/225" class="external-link">#225</a>)</p></li>
<li><p>Make <a href="https://globals.futureverse.org" class="external-link">globals</a> an <code>Imports</code> package, instead of a <code>Suggests</code> package (<a href="https://github.com/rstudio/shinytest2/issues/223" class="external-link">#223</a>)</p></li>
<li><p>Add support for <em>not</em> recording the screen size when recording a test (<a href="https://github.com/rstudio/shinytest2/issues/223" class="external-link">#223</a>)</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug--improvements-0-2-0">Bug / Improvements<a class="anchor" aria-label="anchor" href="#bug--improvements-0-2-0"></a></h3>
<ul><li><p>Fix set of bugs found by <a href="https://github.com/daattali" class="external-link">@daattali</a> including test files should be opened in the IDE after recording and test and replace missing images in the website (<a href="https://github.com/rstudio/shinytest2/issues/199" class="external-link">#199</a>)</p></li>
<li><p>Provide example workflows on how to use <code>rstudio/shinytest2/actions/test-app</code> GHA action (<a href="https://github.com/rstudio/shinytest2/issues/217" class="external-link">#217</a>)</p></li>
<li><p>When setting a date time slider value, it can now handle array inputs properly. When recording a date time slider value, numeric values will not be recorded as milliseconds instead of seconds since epoch. (<a href="https://github.com/rstudio/shinytest2/issues/223" class="external-link">#223</a>)</p></li>
<li><p>When creating a test setup file for <a href="https://rstudio.github.io/shinytest2/">shinytest2</a>, use the file path <code>tests/testthat/setup-shinytest2.R</code> instead of <code>tests/testthat/setup.R</code> to provide some quick context within the file name (<a href="https://github.com/rstudio/shinytest2/issues/224" class="external-link">#224</a>)</p></li>
<li><p>Remove trailing comma causing render bug in recorder app (<a href="https://github.com/mehrnoushmalek" class="external-link">@mehrnoushmalek</a>, <a href="https://github.com/rstudio/shinytest2/issues/239" class="external-link">#239</a>)</p></li>
<li><p>Update {lintr} lints to v3 (<a href="https://github.com/rstudio/shinytest2/issues/240" class="external-link">#240</a>)</p></li>
<li><p>Fixed GHA links for <code>rstudio/shinytest2/actions/test-app@v1</code> (<a href="https://github.com/rstudio/shinytest2/issues/249" class="external-link">#249</a>)</p></li>
<li><p>Fix documentation on on <code>AppDriver</code>’s <code>delay</code> parameter being in seconds, not <em>milli</em>seconds (<a href="https://github.com/rstudio/shinytest2/issues/255" class="external-link">#255</a>)</p></li>
<li><p>Escape JS text supplied to <code>AppDriver$wait_for_js(script=)</code> (<a href="https://github.com/rstudio/shinytest2/issues/258" class="external-link">#258</a>)</p></li>
<li><p>Added support for <code>AppDriver$stop(signal_timeout=)</code>. The default timeout when sending <code>SIGINT</code>, <code>SIGTERM</code>, and <code>SIGKILL</code> signals to the <a href="https://shiny.posit.co/" class="external-link">shiny</a> process is now 500ms. However, if <a href="https://covr.r-lib.org" class="external-link">covr</a> is running, the default timeout is 20,000 ms to allow time for the report to generate. (<a href="https://github.com/rstudio/shinytest2/issues/259" class="external-link">#259</a>, <a href="https://github.com/rstudio/shinytest2/issues/263" class="external-link">#263</a>)</p></li>
<li><p>Add example and FAQ entry on how to test bookmarking (<a href="https://github.com/rstudio/shinytest2/issues/262" class="external-link">#262</a>)</p></li>
<li><p>Added a DOI badge to README.md (<a href="https://github.com/rstudio/shinytest2/issues/267" class="external-link">#267</a>)</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="shinytest2-011">shinytest2 0.1.1<a class="anchor" aria-label="anchor" href="#shinytest2-011"></a></h2><p class="text-muted">CRAN release: 2022-09-06</p>
<ul><li>Update docs for CRAN (<a href="https://github.com/rstudio/shinytest2/issues/253" class="external-link">#253</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="shinytest2-010">shinytest2 0.1.0<a class="anchor" aria-label="anchor" href="#shinytest2-010"></a></h2><p class="text-muted">CRAN release: 2022-04-27</p>
<ul><li>Initial release of package</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="http://schloerke.com" class="external-link">Barret Schloerke</a>, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer></body></html>

